<doctype html>

<h1 align="center">Welcome to our wonderful map</h1>

<body>

<div id="map" style="width: 100%; height:500px"> </div>

<script>
function myMap() {


  var mapCanvas = document.getElementById("map");
  var mapOptions = 
    {
    //center is hardcoded to ucf right now, this will
    //eventually be updated to automaticall locate and change
    //the lat and long to the users exact position
        center: new google.maps.LatLng(28.6024, -81.2001),
        zoom: 15,
        
        
        //disabled unnecessary map controls to keep it simple
       disableDefaultUI: true,
       zoomControl: true,
       panControl: true,
       scaleControl:true,
       rotateControl: true
       
    }
  var map = new google.maps.Map(mapCanvas, mapOptions);
  
  //listener needs to be added to marker once we have the info page
  //set up. The listener should activate a link to the page on click
  var marker = new google.maps.Marker({position: mapOptions.center});
        marker.setMap(map);
        
  var scanRadiusDisplay = new google.maps.Circle(
  {
    center: mapOptions.center,
    //the radius is just a hard coded number for now
    //this will eventually be linked to the settings the user
    //adjusted to
    radius: 200,
    strokeColor: "#008000",
    strokeOpacity: 0.9,
    strokeWeight: 1,
    fillColor: "#ADFF2F",
    fillOpacity: 0.4
  });
    scanRadiusDisplay.setMap(map);
 
 
        //Trying to make an instance for a nearby search of stores
        var realScan = new google.maps.places.PlacesService(map);
        realScan.nearbySearch({
          location: mapOptions.center,
          radius: 3000,
          type: ['store']
        }, getMarkerParameters);
        realScan.setMap(map);

}

    //Trying to make a loop which will create x number of markers, where x is the number of results
    function getMarkerParameters(results, status) {
        if (status === google.maps.places.PlacesServiceStatus.OK) {
          for (var i = 0; i < results.length; i++) {
            addMarker(results[i]);
          }
        }
      }

      //This should add a marker to the location on the map
      function addMarker(place) {
        var marker = new google.maps.Marker({
          map: myMap.map,
          position: place.geometry.location
        });
      }
      


</script>


<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBWZWWAhioLxprzA04NbE2bOpcq_-JYnis&libraries=places&callback=myMap" async defer></script>


</body>